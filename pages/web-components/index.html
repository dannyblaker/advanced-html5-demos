<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Components Demo - Advanced HTML Features</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .component-showcase {
            display: grid;
            gap: 2rem;
            margin: 2rem 0;
        }

        .component-demo {
            background: var(--background-primary);
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-md);
        }

        .code-example {
            background: var(--background-dark);
            color: var(--text-light);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-example pre {
            margin: 0;
            font-family: var(--font-family-mono);
            font-size: 0.9rem;
        }

        /* Custom element styles */
        custom-card {
            display: block;
            margin: 1rem 0;
        }

        progress-ring {
            display: inline-block;
        }

        color-picker {
            display: inline-block;
            margin: 0.5rem;
        }
    </style>
</head>

<body>
    <header class="main-header">
        <nav class="main-nav">
            <div class="nav-container">
                <div class="logo">
                    <a href="../../index.html">‚Üê Back to Home</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="demo-container">
        <h1>Web Components Demonstration</h1>
        <p>Modern web components using Custom Elements, Shadow DOM, and HTML Templates.</p>

        <section class="component-showcase">
            <div class="component-demo">
                <h2>Custom Card Component</h2>
                <p>A reusable card component with encapsulated styling and functionality.</p>

                <custom-card title="Sample Card"
                    description="This is a custom web component with Shadow DOM encapsulation."
                    image="../../assets/images/400x200.svg" button-text="Learn More">
                </custom-card>

                <custom-card title="Another Card"
                    description="Each card instance is independent with its own encapsulated styles." theme="dark"
                    button-text="Explore">
                </custom-card>

                <div class="code-example">
                    <pre><code>&lt;custom-card 
    title="Sample Card" 
    description="This is a custom web component."
    image="image-url"
    button-text="Learn More"&gt;
&lt;/custom-card&gt;</code></pre>
                </div>
            </div>

            <div class="component-demo">
                <h2>Progress Ring Component</h2>
                <p>Animated SVG progress indicator with customizable colors and sizes.</p>

                <progress-ring value="25" size="120" stroke="8" color="#2196F3"></progress-ring>
                <progress-ring value="60" size="100" stroke="6" color="#4CAF50"></progress-ring>
                <progress-ring value="85" size="80" stroke="4" color="#FF9800"></progress-ring>

                <br><br>

                <button onclick="animateProgress()">Animate Progress</button>
                <button onclick="resetProgress()">Reset</button>

                <div class="code-example">
                    <pre><code>&lt;progress-ring 
    value="75" 
    size="120" 
    stroke="8" 
    color="#2196F3"&gt;
&lt;/progress-ring&gt;</code></pre>
                </div>
            </div>

            <div class="component-demo">
                <h2>Color Picker Component</h2>
                <p>Interactive color picker with real-time preview and event handling.</p>

                <color-picker id="picker1" initial-color="#2196F3"></color-picker>
                <color-picker id="picker2" initial-color="#4CAF50"></color-picker>
                <color-picker id="picker3" initial-color="#FF5722"></color-picker>

                <div id="color-output"
                    style="margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                    Selected colors will appear here...
                </div>

                <div class="code-example">
                    <pre><code>&lt;color-picker 
    id="picker1" 
    initial-color="#2196F3"&gt;
&lt;/color-picker&gt;</code></pre>
                </div>
            </div>

            <div class="component-demo">
                <h2>Slotted Content Component</h2>
                <p>Component that accepts and styles child content using slots.</p>

                <content-wrapper>
                    <h3 slot="header">Custom Header</h3>
                    <p>This content is passed through slots and styled by the component.</p>
                    <p>Multiple paragraphs are supported in the default slot.</p>
                    <div slot="footer">
                        <button>Action 1</button>
                        <button>Action 2</button>
                    </div>
                </content-wrapper>

                <div class="code-example">
                    <pre><code>&lt;content-wrapper&gt;
    &lt;h3 slot="header"&gt;Custom Header&lt;/h3&gt;
    &lt;p&gt;Content goes here...&lt;/p&gt;
    &lt;div slot="footer"&gt;
        &lt;button&gt;Action&lt;/button&gt;
    &lt;/div&gt;
&lt;/content-wrapper&gt;</code></pre>
                </div>
            </div>
        </section>

        <section class="component-demo">
            <h2>Component Architecture</h2>
            <p>These components demonstrate key Web Components technologies:</p>

            <ul>
                <li><strong>Custom Elements:</strong> Define new HTML tags with custom behavior</li>
                <li><strong>Shadow DOM:</strong> Encapsulate styles and markup</li>
                <li><strong>HTML Templates:</strong> Reusable markup structures</li>
                <li><strong>ES6 Classes:</strong> Modern JavaScript class syntax</li>
                <li><strong>Lifecycle Callbacks:</strong> connectedCallback, disconnectedCallback, etc.</li>
                <li><strong>Observed Attributes:</strong> Reactive attribute changes</li>
            </ul>
        </section>
    </main>

    <script src="./web-components.js"></script>
    <script>
        // Demo interaction functions
        function animateProgress() {
            document.querySelectorAll('progress-ring').forEach((ring, index) => {
                const targetValue = [75, 90, 100][index] || 100;
                ring.animateTo(targetValue);
            });
        }

        function resetProgress() {
            document.querySelectorAll('progress-ring').forEach((ring, index) => {
                const originalValue = [25, 60, 85][index] || 0;
                ring.animateTo(originalValue);
            });
        }

        // Listen for color picker events
        document.addEventListener('color-changed', (event) => {
            const output = document.getElementById('color-output');
            const pickerId = event.target.id;
            const color = event.detail.color;

            output.innerHTML += `<div style="color: ${color}; font-weight: bold;">
                ${pickerId}: ${color}
            </div>`;
        });
    </script>
</body>

</html>